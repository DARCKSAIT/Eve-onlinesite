<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Administration Nova Vox Interstellar">
  <title>Administration - NVI</title>
  <link rel="stylesheet" href="assets/void-theme.css">
  <script defer src="assets/auth.js"></script>
  <script defer src="assets/stellar-index.js"></script>
</head>
<body>
<header>
  <h1>Nova Vox Interstellar</h1>
  <nav>
    <a href="index.html">Accueil</a>
    <a href="archives-stellaires.html">Archives</a>
    <a href="chroniques-hebdo.html">Édition de la semaine</a>
    <a href="oracles-du-marche.html">Analyse financière</a>
    <a href="voix-des-pilotes.html">Témoignages</a>
    <a href="plans-de-bataille.html">Cartes &amp; batailles</a>
    <a href="manifeste.html">À propos</a>
    <a href="transmissions.html">Contact</a>
    <a href="premium-isk.html">Premium</a>
    <a href="admin.html">Admin</a>
  </nav>
</header>
<main>
  <h2>Utilisateurs enregistrés</h2>
  <table id="user-table">
    <thead>
      <tr><th>Personnage</th><th>Statut</th></tr>
    </thead>
    <tbody></tbody>
  </table>
</main>
<footer>
  <p>© 2025 Nova Vox Interstellar</p>
</footer>
<script>
document.addEventListener('DOMContentLoaded', async () => {
  await loadUserStatus();
  const res = await fetch('assets/users.json');
  const users = await res.json();
  const tbody = document.querySelector('#user-table tbody');
  users.forEach(u => {
    const tr = document.createElement('tr');
    const name = document.createElement('td');
    name.textContent = u.name;
    const status = document.createElement('td');
    status.textContent = u.premium ? 'Payé' : 'Non payé';
    tr.appendChild(name);
    tr.appendChild(status);
    tbody.appendChild(tr);
  });
});
</script>
</body>
</html>
